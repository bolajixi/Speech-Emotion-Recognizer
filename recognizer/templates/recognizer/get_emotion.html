{% extends "recognizer/base.html" %}
{% load static %}

{% block title %}
    Recognize - Get emotion from Upload
{% endblock title %}

{% block content %}
    
    {% if form %}
        <form action="{% url 'recognize:get_emotion' %}" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form }}
            <button type="submit">Upload</button>
        </form>
    {% else %}
        {% csrf_token %}
        <div style="padding:12.5% 0 0 0" class="like">
            <div class="like__center center">
                <div class="like__container">
                    <div class="like__wrap">
                        <h2 class="like__title title aos-init aos-animate" data-aos="animation-scale-x">Record when you're
                            ready<span class="title__color">.</span></h2>
                        <div class="like__text aos-init aos-animate" data-aos="animation-scale-x" data-aos-delay="150">
                            <p>Don't forget to grant me access to your browsers microphone 
                                so i can record and tell you back your emotion.</p>
                        </div>
                        <div class="like__btn aos-init aos-animate" data-aos="animation-scale-x" data-aos-delay="300">
                            <div class="package__btns">
                                <div class="package__arrows">
                                    <button data-toggle="tooltip" id="recordButton" class="btn btn_purple" style="margin: 17px 17px 17px 0px;min-width: 140px;"
                                        id="get_emotion_btn" type="button">Record</button>
                                    <button data-toggle="tooltip" id="stopButton" class="btn btn_purple" style="margin: 17px 17px 17px 0px;min-width: 140px;" id="get_emotion_btn"
                                        type="button">Stop</button>
                                </div>
                            </div>
                        </div>
        
                    </div>
                    <div class="like__preview aos-init aos-animate" data-aos=""><img class="like__pic" src="img/hand-1.png"
                            alt=""></div>
                    <div class="like__circle"></div>
                    <div class="like__circles">
                        <div class="like__circle"></div>
                        <div class="like__circle js-rellax" data-rellax-speed="-1"
                            style="transform: translate3d(0px, 90px, 0px);"></div>
                        <div class="like__circle js-rellax" data-rellax-speed=".8"
                            style="transform: translate3d(0px, -38px, 0px);"></div>
                        <div class="like__circle"></div>
                        <div class="like__circle"></div>
                    </div>
                </div>
            </div>
        </div>
        <ol id="recordingsList"></ol>
    {% endif %}

    <script src="{% static 'js/recorder.js' %}"></script>
    <script src="{% static 'js/utils.js' %}"></script>
{% endblock content %}